
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AsyncIO MongoDB ODM (Object Document Mapper) using python type hinting">
      
      
      
        <link rel="canonical" href="https://art049.github.io/odmantic/fields/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../modeling/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.19">
    
    
      
        <title>Fields - ODMantic</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-180814888-1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-180814888-1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-180814888-1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fields" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ODMantic" class="md-header__button md-logo" aria-label="ODMantic" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 9.63c-.19-2.79-1.32-5.51-3.44-7.63A12.253 12.253 0 0 0 8.5 9.63c1.29.68 2.47 1.56 3.5 2.63a14.22 14.22 0 0 1 3.5-2.63M12 15.45C9.85 12.17 6.18 10 2 10c0 10 9.32 11.89 10 12 .68-.12 10-2 10-12-4.18 0-7.85 2.17-10 5.45Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ODMantic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fields
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/art049/odmantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    art049/odmantic
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ODMantic" class="md-nav__button md-logo" aria-label="ODMantic" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 9.63c-.19-2.79-1.32-5.51-3.44-7.63A12.253 12.253 0 0 0 8.5 9.63c1.29.68 2.47 1.56 3.5 2.63a14.22 14.22 0 0 1 3.5-2.63M12 15.45C9.85 12.17 6.18 10 2 10c0 10 9.32 11.89 10 12 .68-.12 10-2 10-12-4.18 0-7.85 2.17-10 5.45Z"/></svg>

    </a>
    ODMantic
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/art049/odmantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    art049/odmantic
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Fields
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Fields
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-id-field" class="md-nav__link">
    <span class="md-ellipsis">
      The id field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Field types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Optional fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Union fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Enum fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Container fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dict" class="md-nav__link">
    <span class="md-ellipsis">
      Dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bson-types-integration" class="md-nav__link">
    <span class="md-ellipsis">
      BSON types integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    <span class="md-ellipsis">
      Customization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Document structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#primary-key" class="md-nav__link">
    <span class="md-ellipsis">
      Primary key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexed-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Indexed fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Unique fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    <span class="md-ellipsis">
      Validation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom field types
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../modeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modeling
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engine
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../querying/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Querying
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../raw_query_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raw query usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage_fastapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage with FastAPI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage_pydantic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage with Pydantic
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.engine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/session/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.session
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/field/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.field
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/bson/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.bson
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odmantic.config
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Guide
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-id-field" class="md-nav__link">
    <span class="md-ellipsis">
      The id field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Field types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Optional fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Union fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Enum fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Container fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dict" class="md-nav__link">
    <span class="md-ellipsis">
      Dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bson-types-integration" class="md-nav__link">
    <span class="md-ellipsis">
      BSON types integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    <span class="md-ellipsis">
      Customization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Document structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#primary-key" class="md-nav__link">
    <span class="md-ellipsis">
      Primary key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexed-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Indexed fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unique-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Unique fields
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    <span class="md-ellipsis">
      Validation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-field-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom field types
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="fields">Fields<a class="headerlink" href="#fields" title="Permanent link">&para;</a></h1>
<h2 id="the-id-field">The <code>id</code> field<a class="headerlink" href="#the-id-field" title="Permanent link">&para;</a></h2>
<p>The <a href="https://docs.mongodb.com/manual/reference/method/ObjectId/" target="blank_"><code>ObjectId</code> data type</a>
 is the default primary key type used by MongoDB. An <code>ObjectId</code> comes with many
 information embedded into it (timestamp, machine identifier, ...). Since by default,
 MongoDB will create a field <code>_id</code> containing an <code>ObjectId</code> primary key, ODMantic will
 bind it automatically to an implicit field named <code>id</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy Jenkins&quot;</span><span class="p">)</span>
<span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">leeroy</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; ObjectId(&#39;5ed50fcad11d1975aa3d7a28&#39;)</span>
</span><span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">leeroy</span><span class="p">))</span>
<span class="c1">#&gt; Player(id=ObjectId(&#39;5ed50fcad11d1975aa3d7a28&#39;), name=&quot;Leeroy Jenkins&quot;)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition info">
<p class="admonition-title">ObjectId creation</p>
<p>This <code>id</code> field will be generated on instance creation, before saving the instance
to the database. This helps to keep consistency between the instances persisted to
the database and the ones only created locally.</p>
</div>
<p>Even if this behavior is convenient, it is still possible to <a href="#primary-key">define custom primary
keys</a>.</p>
<h2 id="field-types">Field types<a class="headerlink" href="#field-types" title="Permanent link">&para;</a></h2>
<h3 id="optional-fields">Optional fields<a class="headerlink" href="#optional-fields" title="Permanent link">&para;</a></h3>
<p>By default, every single field will be required. To specify a field as non-required, the
easiest way is to use the <code>typing.Optional</code> generic type that will allow the field to
take the <code>None</code> value as well (it will be stored as <code>null</code> in the database) and to give
it a default value of <code>None</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">age</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span>
<span class="n">john</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">john</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
<span class="c1">#&gt; None</span>
</code></pre></div></td></tr></table></div>
<h3 id="union-fields">Union fields<a class="headerlink" href="#union-fields" title="Permanent link">&para;</a></h3>
<p>As explained in the <a href="https://docs.python.org/3/library/typing.html#typing.Optional" target="bank_">Python Typing
documentation</a>,
<code>Optional[X]</code> is equivalent to <code>Union[X, None]</code>. That implies that the field type will
be either <code>X</code> or <code>None</code>.</p>
<p>It's possible to combine any kind of type using the <code>typ√Æng.Union</code> type constructor. For
example if we want to allow both <code>string</code> and <code>int</code> in a field:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Thing</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">ref_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
</span>

<span class="n">thing_1</span> <span class="o">=</span> <span class="n">Thing</span><span class="p">(</span><span class="n">ref_id</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">thing_1</span><span class="o">.</span><span class="n">ref_id</span><span class="p">)</span>
<span class="c1">#&gt; 42</span>

<span class="n">thing_2</span> <span class="o">=</span> <span class="n">Thing</span><span class="p">(</span><span class="n">ref_id</span><span class="o">=</span><span class="s2">&quot;i am a string&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">thing_2</span><span class="o">.</span><span class="n">ref_id</span><span class="p">)</span>
<span class="c1">#&gt; i am a string</span>
</code></pre></div></td></tr></table></div>
<div class="admonition question">
<p class="admonition-title">NoneType</p>
<p>Internally python describes the type of the <code>None</code> object as <code>NoneType</code> but in
practice, <code>None</code> is used directly in type annotations (<a href="https://mypy.readthedocs.io/en/stable/kinds_of_types.html#optional-types-and-the-none-type" target="bank_">more details</a>).</p>
</div>
<h3 id="enum-fields">Enum fields<a class="headerlink" href="#enum-fields" title="Permanent link">&para;</a></h3>
<p>To define choices, it's possible to use the standard <code>enum</code> classes:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Model</span>


<span class="hll"><span class="k">class</span> <span class="nc">TreeKind</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span class="hll">    <span class="n">BIG</span> <span class="o">=</span> <span class="s2">&quot;big&quot;</span>
</span><span class="hll">    <span class="n">SMALL</span> <span class="o">=</span> <span class="s2">&quot;small&quot;</span>
</span>

<span class="k">class</span> <span class="nc">Tree</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">kind</span><span class="p">:</span> <span class="n">TreeKind</span>
</span>

<span class="n">sequoia</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Sequoia&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="n">TreeKind</span><span class="o">.</span><span class="n">BIG</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sequoia</span><span class="o">.</span><span class="n">kind</span><span class="p">)</span>
<span class="c1">#&gt; TreeKind.BIG</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sequoia</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;big&quot;</span><span class="p">)</span>
<span class="c1">#&gt; True</span>

<span class="n">spruce</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Spruce&quot;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;small&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">spruce</span><span class="o">.</span><span class="n">kind</span><span class="p">)</span>
<span class="c1">#&gt; TreeKind.SMALL</span>
<span class="nb">print</span><span class="p">(</span><span class="n">spruce</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">TreeKind</span><span class="o">.</span><span class="n">SMALL</span><span class="p">)</span>
<span class="c1">#&gt; True</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save_all</span><span class="p">([</span><span class="n">sequoia</span><span class="p">,</span> <span class="n">spruce</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
<div class="admonition abstract">
<p class="admonition-title">Resulting documents in the collection <code>tree</code> after execution</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="nt">&quot;_id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">Objec</span><span class="kc">t</span><span class="err">Id(</span><span class="s2">&quot;5f818f2dd5708527282c49b6&quot;</span><span class="err">)</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;big&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sequoia&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="p">{</span><span class="w"> </span><span class="nt">&quot;_id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">Objec</span><span class="kc">t</span><span class="err">Id(</span><span class="s2">&quot;5f818f2dd5708527282c49b7&quot;</span><span class="err">)</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;kind&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;small&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Spruce&quot;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
</div>
<p>If you try to use a value not present in the allowed choices, a <a href="https://docs.pydantic.dev/latest/usage/models/#error-handling" target="blank_">ValidationError</a> exception will be raised.</p>
<div class="admonition warning">
<p class="admonition-title">Usage of <code>enum.auto</code></p>
<p>If you might add some values to an <code>Enum</code>, it's strongly recommended not to use the
<code>enum.auto</code> value generator. Depending on the order you add choices, it could
completely break the consistency with documents stored in the database.</p>
<details class="example">
<summary>Unwanted behavior example</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>


<span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">BLUE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="c1">#&gt; 1</span>
<span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">BLUE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; 2</span>
</span></code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>


<span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RED</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<span class="hll">    <span class="n">GREEN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</span>    <span class="n">BLUE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="c1">#&gt; 1</span>
<span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">GREEN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; 2</span>
</span><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">BLUE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; 3</span>
</span></code></pre></div></td></tr></table></div>
</details>
</div>
<h3 id="container-fields">Container fields<a class="headerlink" href="#container-fields" title="Permanent link">&para;</a></h3>
<h4 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">SimpleListModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">list</span>


<span class="nb">print</span><span class="p">(</span><span class="n">SimpleListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, &#39;a&#39;, True]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">SimpleListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, &#39;a&#39;, True]</span>


<span class="k">class</span> <span class="nc">IntListModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">IntListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, 5]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">IntListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, 5]</span>


<span class="k">class</span> <span class="nc">IntStrListModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">IntStrListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, &#39;b&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">IntStrListModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; [1, &#39;b&#39;]</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It's possible to define element count constraints for a list field using the
<a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a> descriptor.</p>
</div>
<h4 id="tuple">Tuple<a class="headerlink" href="#tuple" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">SimpleTupleModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">tuple</span>


<span class="nb">print</span><span class="p">(</span><span class="n">SimpleTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1, &#39;a&#39;, True)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">SimpleTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1, &#39;a&#39;, True)</span>


<span class="k">class</span> <span class="nc">TwoIntTupleModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">SimpleTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1, 10)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">SimpleTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1, 10)</span>


<span class="k">class</span> <span class="nc">IntTupleModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">IntTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1,)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">IntTupleModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 10)</span>
</code></pre></div></td></tr></table></div>
<h4 id="dict">Dict<a class="headerlink" href="#dict" title="Permanent link">&para;</a></h4>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For mapping types with already known keys, you can see the <a href="../modeling/#embedded-models">embedded models
section</a>.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">SimpleDictModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">dict</span>


<span class="nb">print</span><span class="p">(</span><span class="n">SimpleDictModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">{</span><span class="mi">18</span><span class="p">:</span> <span class="s2">&quot;a string&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="mf">18.3</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; {18: &#39;a string&#39;, True: 42, 18.3: [1, 2, 3]}</span>


<span class="k">class</span> <span class="nc">IntStrDictModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">IntStrDictModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;two&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; {1: &#39;one&#39;, 2: &#39;two&#39;}</span>


<span class="k">class</span> <span class="nc">IntBoolStrDictModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">IntBoolStrDictModel</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;three&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; {0: False, 1: True, 3: &#39;three&#39;}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Performance tip</p>
<p>Whenever possible, try to avoid mutable container types (<code>List</code>, <code>Set</code>, ...) and
prefer their Immutable alternatives (<code>Tuple</code>, <code>FrozenSet</code>, ...). This will allow
ODMantic to speedup database writes by only saving the modified container fields.</p>
</div>
<h3 id="bson-types-integration"><code>BSON</code> types integration<a class="headerlink" href="#bson-types-integration" title="Permanent link">&para;</a></h3>
<p>ODMantic supports native python BSON types (<a href="https://api.mongodb.com/python/current/api/bson/index.html" target="blank_"><code>bson</code>
package</a>).
Those types can be used directly as field types:</p>
<ul>
<li>
<p><a href="https://api.mongodb.com/python/current/api/bson/objectid.html" target="blank_"><code>bson.ObjectId</code></a></p>
</li>
<li>
<p><a href="https://api.mongodb.com/python/current/api/bson/int64.html" target="blank_"><code>bson.Int64</code></a></p>
</li>
<li>
<p><a href="https://api.mongodb.com/python/current/api/bson/decimal128.html" target="blank_"><code>bson.Decimal128</code></a></p>
</li>
<li>
<p><a href="https://api.mongodb.com/python/current/api/bson/regex.html" target="blank_"><code>bson.Regex</code></a></p>
</li>
<li>
<p><a href="https://api.mongodb.com/python/current/api/bson/binary.html#bson.binary.Binary" target="blank_"><code>bson.Binary</code></a></p>
</li>
</ul>
<details class="info">
<summary>Generic python to BSON type map</summary>
<table>
<thead>
<tr>
<th>Python type</th>
<th style="text-align: center;">BSON type</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bson.ObjectId</code></td>
<td style="text-align: center;"><code>objectId</code></td>
<td></td>
</tr>
<tr>
<td><code>bool</code></td>
<td style="text-align: center;"><code>bool</code></td>
<td></td>
</tr>
<tr>
<td><code>int</code></td>
<td style="text-align: center;"><code>int</code></td>
<td>value between -2^31 and 2^31 - 1</td>
</tr>
<tr>
<td><code>int</code></td>
<td style="text-align: center;"><code>long</code></td>
<td>value not between -2^31 and 2^31 - 1</td>
</tr>
<tr>
<td><code>bson.Int64</code></td>
<td style="text-align: center;"><code>long</code></td>
<td></td>
</tr>
<tr>
<td><code>float</code></td>
<td style="text-align: center;"><code>double</code></td>
<td></td>
</tr>
<tr>
<td><code>bson.Decimal128</code></td>
<td style="text-align: center;"><code>decimal</code></td>
<td></td>
</tr>
<tr>
<td><code>decimal.Decimal</code></td>
<td style="text-align: center;"><code>decimal</code></td>
<td></td>
</tr>
<tr>
<td><code>str</code></td>
<td style="text-align: center;"><code>string</code></td>
<td></td>
</tr>
<tr>
<td><code>typing.Pattern</code></td>
<td style="text-align: center;"><code>regex</code></td>
<td></td>
</tr>
<tr>
<td><code>bson.Regex</code></td>
<td style="text-align: center;"><code>regex</code></td>
<td></td>
</tr>
<tr>
<td><code>bytes</code></td>
<td style="text-align: center;"><code>binData</code></td>
<td></td>
</tr>
<tr>
<td><code>bson.Binary</code></td>
<td style="text-align: center;"><code>binData</code></td>
<td></td>
</tr>
<tr>
<td><code>datetime.datetime</code></td>
<td style="text-align: center;"><code>date</code></td>
<td>microseconds are truncated, only naive datetimes are allowed</td>
</tr>
<tr>
<td><code>typing.Dict</code></td>
<td style="text-align: center;"><code>object</code></td>
<td></td>
</tr>
<tr>
<td><code>typing.List</code></td>
<td style="text-align: center;"><code>array</code></td>
<td></td>
</tr>
<tr>
<td><code>typing.Sequence</code></td>
<td style="text-align: center;"><code>array</code></td>
<td></td>
</tr>
<tr>
<td><code>typing.Tuple[T, ...]</code></td>
<td style="text-align: center;"><code>array</code></td>
<td></td>
</tr>
</tbody>
</table>
</details>
<h3 id="pydantic-fields">Pydantic fields<a class="headerlink" href="#pydantic-fields" title="Permanent link">&para;</a></h3>
<p>Most of the types supported by pydantic are supported by ODMantic. See <a href="https://docs.pydantic.dev/latest/usage/types/types/" target="bank_">pydantic:
Field Types</a> for more
field types.</p>
<p>Unsupported fields:</p>
<ul>
<li><code>typing.Callable</code></li>
</ul>
<p>Fields with a specific behavior:</p>
<ul>
<li><code>datetime.datetime</code>: Only <a href="https://docs.python.org/3/library/datetime.html#determining-if-an-object-is-aware-or-naive" target="blank_">naive datetime
  objects</a>
  will be allowed as MongoDB doesn't store the timezone information. Also, the
  microsecond information will be truncated.</li>
</ul>
<h2 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">&para;</a></h2>
<p>The field customization can mainly be performed using the <a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a>
descriptor. This descriptor is here to define everything about the field except its
type.</p>
<h3 id="default-values">Default values<a class="headerlink" href="#default-values" title="Permanent link">&para;</a></h3>
<p>The easiest way to set a default value to a field is by assigning this default value
directly while defining the model.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dash&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
<span class="c1">#&gt; Player(id=ObjectId(&#39;5f7cd4be16af832772f1615e&#39;), name=&#39;Dash&#39;, level=0)</span>
</code></pre></div></td></tr></table></div>
<p>You can combine default values and an existing <a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a>
descriptor using the <code>default</code> keyword argument.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ge</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dash&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
<span class="c1">#&gt; Player(id=ObjectId(&#39;5f7cdbfbb54a94e9e8717c77&#39;), name=&#39;Dash&#39;, level=1)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition info">
<p class="admonition-title">Default factory</p>
<p>You may as well define a factory function instead of a value using the
<code>default_factory</code> argument of the <a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a> descriptor.</p>
<p>By default, the default factories won't be used while parsing MongoDB documents.
It's possible to enable this behavior with the <code>parse_doc_with_default_factories</code>
<a href="../modeling/#advanced-configuration">Config</a> option.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Default values validation</p>
<p>Currently the default values are not validated yet during the model creation.</p>
<p>An inconsistent default value might raise a
<a href="https://docs.pydantic.dev/latest/usage/models/#error-handling" target="blank_">ValidationError</a>
while building an instance.</p>
</div>
<h3 id="document-structure">Document structure<a class="headerlink" href="#document-structure" title="Permanent link">&para;</a></h3>
<p>By default, the MongoDB documents fields will be named after the field name. It is
possible to override this naming policy by using the <code>key_name</code> argument in the
<a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a> descriptor.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Async</label><label for="__tabbed_1_2">Sync</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Jack&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">SyncEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">key_name</span><span class="o">=</span><span class="s2">&quot;username&quot;</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">SyncEngine</span><span class="p">()</span>
<span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Jack&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition abstract">
<p class="admonition-title">Resulting documents in the collection <code>player</code> after execution</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">Objec</span><span class="kc">t</span><span class="err">Id(</span><span class="s2">&quot;5ed50fcad11d1975aa3d7a28&quot;</span><span class="err">)</span><span class="p">,</span>
<span class="hll"><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jack&quot;</span><span class="p">,</span>
</span><span class="p">}</span>
</code></pre></div>
See <a href="#the-id-field">this section</a> for more details about the <code>_id</code> field that has been added.</p>
</div>
<h3 id="primary-key">Primary key<a class="headerlink" href="#primary-key" title="Permanent link">&para;</a></h3>
<p>While ODMantic will by default populate the <code>id</code> field as a primary key, you can use any
other field as the primary key.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Async</label><label for="__tabbed_2_2">Sync</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_field</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy Jenkins&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">leeroy</span><span class="p">))</span>
<span class="c1">#&gt; Player(name=&quot;Leeroy Jenkins&quot;)</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">leeroy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">SyncEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_field</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy Jenkins&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">leeroy</span><span class="p">))</span>
<span class="c1">#&gt; Player(name=&quot;Leeroy Jenkins&quot;)</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">SyncEngine</span><span class="p">()</span>
<span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">leeroy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition abstract">
<p class="admonition-title">Resulting documents in the collection <code>player</code> after execution</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Leeroy Jenkins&quot;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The Mongo name of the primary field will be enforced to <code>_id</code> and you will not be
able to change it.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using mutable types (Set, List, ...) as primary field might result in inconsistent
behaviors.</p>
</div>
<h3 id="indexed-fields">Indexed fields<a class="headerlink" href="#indexed-fields" title="Permanent link">&para;</a></h3>
<p>You can define an index on a single field by using the <code>index</code> argument of the
<a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a> descriptor.</p>
<p>More details about index creation can be found in the
<a href="../modeling/#indexes">Indexes</a> section.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Async</label><label for="__tabbed_3_2">Sync</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="hll"><span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">configure_database</span><span class="p">([</span><span class="n">Player</span><span class="p">])</span>
</span></code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span><span class="p">,</span> <span class="n">SyncEngine</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="hll">    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">SyncEngine</span><span class="p">()</span>
<span class="hll"><span class="n">engine</span><span class="o">.</span><span class="n">configure_database</span><span class="p">([</span><span class="n">Player</span><span class="p">])</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using indexes, make sure to call the <code>configure_database</code> method
(<a class="autorefs autorefs-internal" href="../api_reference/engine/#odmantic.engine.AIOEngine.configure_database">AIOEngine.configure_database</a> or
<a class="autorefs autorefs-internal" href="../api_reference/engine/#odmantic.engine.SyncEngine.configure_database">SyncEngine.configure_database</a>) to
persist the indexes to the database.</p>
</div>
<h3 id="unique-fields">Unique fields<a class="headerlink" href="#unique-fields" title="Permanent link">&para;</a></h3>
<p>In the same way, you can define unique constrains on a single field by using the
<code>unique</code> argument of the <a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field</a> descriptor. This will ensure that
values of this fields are unique among all the instances saved in the database.</p>
<p>More details about unique index creation can be found in the
<a href="../modeling/#indexes">Indexes</a> section.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Async</label><label for="__tabbed_4_2">Sync</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="hll"><span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">configure_database</span><span class="p">([</span><span class="n">Player</span><span class="p">])</span>
</span>
<span class="n">leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy&quot;</span><span class="p">)</span>
<span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">leeroy</span><span class="p">)</span>

<span class="n">another_leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy&quot;</span><span class="p">)</span>
<span class="hll"><span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">another_leeroy</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; Raises odmantic.exceptions.DuplicateKeyError:</span>
</span><span class="hll"><span class="c1">#&gt;    Duplicate key error for: Player.</span>
</span><span class="hll"><span class="c1">#&gt;    Instance: id=ObjectId(&#39;6314b4c25a19444bfe0c0be5&#39;) name=&#39;Leeroy&#39;</span>
</span></code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span><span class="p">,</span> <span class="n">SyncEngine</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">SyncEngine</span><span class="p">()</span>
<span class="hll"><span class="n">engine</span><span class="o">.</span><span class="n">configure_database</span><span class="p">([</span><span class="n">Player</span><span class="p">])</span>
</span>
<span class="n">leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy&quot;</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">leeroy</span><span class="p">)</span>

<span class="n">another_leeroy</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Leeroy&quot;</span><span class="p">)</span>
<span class="hll"><span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">another_leeroy</span><span class="p">)</span>
</span><span class="hll"><span class="c1">#&gt; Raises odmantic.exceptions.DuplicateKeyError:</span>
</span><span class="hll"><span class="c1">#&gt;    Duplicate key error for: Player.</span>
</span><span class="hll"><span class="c1">#&gt;    Instance: id=ObjectId(&#39;6314b4c25a19444bfe0c0be5&#39;) name=&#39;Leeroy&#39;</span>
</span></code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using indexes, make sure to call the <code>configure_database</code> method
(<a class="autorefs autorefs-internal" href="../api_reference/engine/#odmantic.engine.AIOEngine.configure_database">AIOEngine.configure_database</a> or
<a class="autorefs autorefs-internal" href="../api_reference/engine/#odmantic.engine.SyncEngine.configure_database">SyncEngine.configure_database</a>) to
persist the indexes to the database.</p>
</div>
<h2 id="validation">Validation<a class="headerlink" href="#validation" title="Permanent link">&para;</a></h2>
<p>As ODMantic strongly relies on pydantic when it comes to data validation, most of the
validation features provided by pydantic are available:</p>
<ul>
<li>
<p>Add field validation constraints by using the <a class="autorefs autorefs-internal" href="../api_reference/field/#odmantic.field.Field">Field descriptor</a>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Field</span><span class="p">,</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">ExampleModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">small_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">le</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">big_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">even_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">multiple_of</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">small_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">lt</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">big_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">ge</span><span class="o">=</span><span class="mf">1e10</span><span class="p">)</span>

    <span class="n">short_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">long_string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">string_starting_with_the</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;^The&quot;</span><span class="p">)</span>

    <span class="n">short_str_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">max_items</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">long_str_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">min_items</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>Use strict types to prevent to coercion from compatible types (<a href="https://docs.pydantic.dev/latest/usage/types/strict_types/" target="blank_">pydantic: Strict Types</a>)
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">StrictBool</span><span class="p">,</span> <span class="n">StrictFloat</span><span class="p">,</span> <span class="n">StrictStr</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">ExampleModel</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">strict_bool</span><span class="p">:</span> <span class="n">StrictBool</span>
    <span class="n">strict_float</span><span class="p">:</span> <span class="n">StrictFloat</span>
    <span class="n">strict_str</span><span class="p">:</span> <span class="n">StrictStr</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>Define custom field validators (<a href="https://docs.pydantic.dev/latest/usage/validators/" target="blank_">pydantic:
  Validators</a>)
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">ClassVar</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">ValidationError</span><span class="p">,</span> <span class="n">validator</span>

<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="k">class</span> <span class="nc">SmallRectangle</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">MAX_SIDE_SIZE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="n">length</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">check_small_sides</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="bp">cls</span><span class="o">.</span><span class="n">MAX_SIDE_SIZE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;side is greater than </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">MAX_SIDE_SIZE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">check_width_length</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">length</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;length&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">length</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="n">length</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;width can&#39;t be greater than length&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">width</span>


<span class="nb">print</span><span class="p">(</span><span class="n">SmallRectangle</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="c1">#&gt; id=ObjectId(&#39;5f81e3c073103f509f97e374&#39;), length=2.0, width=1.0</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">SmallRectangle</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for SmallRectangle</span>
<span class="sd">    width</span>
<span class="sd">      field required (type=value_error.missing)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">SmallRectangle</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for SmallRectangle</span>
<span class="sd">    width</span>
<span class="sd">      width can&#39;t be greater than length (type=value_error)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">SmallRectangle</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for SmallRectangle</span>
<span class="sd">    length</span>
<span class="sd">      side is greater than 10 (type=value_error)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p>Define custom model validators: <a href="../modeling/#custom-model-validators">more details</a></p>
</li>
</ul>
<h2 id="custom-field-types">Custom field types<a class="headerlink" href="#custom-field-types" title="Permanent link">&para;</a></h2>
<p>Exactly in the same way pydantic allows it, it's possible to define custom field types as well with ODMantic (<a href="https://docs.pydantic.dev/latest/concepts/types/#custom-types" target="blank_">Pydantic: Custom data types</a>).</p>
<p>Sometimes, it might be required to customize as well the field BSON serialization. In
order to do this, the field class will have to implement the <code>__bson__</code> class method.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>
<span class="kn">from</span> <span class="nn">odmantic</span> <span class="kn">import</span> <span class="n">AIOEngine</span><span class="p">,</span> <span class="n">Model</span><span class="p">,</span> <span class="n">WithBsonSerializer</span>

<span class="k">class</span> <span class="nc">ASCIISerializedAsBinaryBase</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__get_validators__</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">cls</span><span class="o">.</span><span class="n">validate</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
<span class="hll">        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>  <span class="c1"># Handle data coming from MongoDB</span>
</span><span class="hll">            <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;string required&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">isascii</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Only ascii characters are allowed&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>


<span class="hll"><span class="k">def</span> <span class="nf">serialize_ascii_to_bytes</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">ASCIISerializedAsBinaryBase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
</span><span class="hll">    <span class="c1"># We can encode this string as ascii since it contains</span>
</span><span class="hll">    <span class="c1"># only ascii characters</span>
</span><span class="hll">    <span class="n">bytes_</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">return</span> <span class="n">bytes_</span>
</span>

<span class="hll"><span class="n">ASCIISerializedAsBinary</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
</span><span class="hll">    <span class="n">ASCIISerializedAsBinaryBase</span><span class="p">,</span> <span class="n">WithBsonSerializer</span><span class="p">(</span><span class="n">serialize_ascii_to_bytes</span><span class="p">)</span>
</span><span class="hll"><span class="p">]</span>
</span>
<span class="k">class</span> <span class="nc">Example</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
<span class="hll">    <span class="n">field</span><span class="p">:</span> <span class="n">ASCIISerializedAsBinary</span>
</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">AIOEngine</span><span class="p">()</span>
<span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">Example</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s2">&quot;hello world&quot;</span><span class="p">))</span>
<span class="n">fetched</span> <span class="o">=</span> <span class="k">await</span> <span class="n">engine</span><span class="o">.</span><span class="n">find_one</span><span class="p">(</span><span class="n">Example</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fetched</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
<span class="c1">#&gt; hello world</span>
</code></pre></div></td></tr></table></div>
<p>In this example, we decide to store string data manually encoded in the ASCII encoding.
The encoding is handled in the <code>__bson__</code> class method. On top of this, we handle the
decoding by attempting to decode <code>bytes</code> object in the <code>validate</code> method.</p>
<div class="admonition abstract">
<p class="admonition-title">Resulting documents in the collection <code>example</code> after execution</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">Objec</span><span class="kc">t</span><span class="err">Id(</span><span class="s2">&quot;5f81fa5e8adaf4bf33f05035&quot;</span><span class="err">)</span><span class="p">,</span>
<span class="hll"><span class="w">  </span><span class="nt">&quot;field&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">Bi</span><span class="kc">n</span><span class="err">Da</span><span class="kc">ta</span><span class="err">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;aGVsbG8gd29ybGQ=&quot;</span><span class="err">)</span>
</span><span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using custom bson serialization, it's important to handle as well the data
validation for data retrieved from Mongo. In the previous example it's done by
handling <code>bytes</code> objects in the validate method.</p>
</div>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/art049" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/art049" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/arthur-pastel-a08579112" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["instant", "content.tabs.link"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
        <script src="../js/gitter.js"></script>
      
        <script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script>
      
    
  </body>
</html>